@use "utilities" as *;

.home {
  section {
    @extend %layout-home-grid;
  }

  p {
    @extend %typography-home-body;

    grid-column: mat;

    &.p--leading {
      @extend %typography-home-introduction;
    }
  }

  .p--body {

  }

  h2 {
    font-weight: 900;
    grid-column: mat;
  }

  .hero,
  .portfolio {
    background-color: var(--hue-shade-100);
  }

  .hero {
    margin-bottom: var(--a3);

    &__titlewrap {
      display: flex;
      flex-direction: column;
      grid-column: title;
      justify-content: flex-end;
      margin: 0 0 var(--a1);
      min-height: 65vh;
    }

    &__title {
      @extend %typography-title;

      font-weight: 600;
      grid-column: title;
      text-align: right;

      strong {
        font-weight: 900;
      }
    }

    &__instructions {
      @extend %typography-summary;

      color: var(--hue-shade-700);
      margin-bottom: calc(var(--b-1) * -1);
      opacity: 0;
      text-align: right;
      transform: translateY(var(--a0));
      transition: transform var(--timing-instructions-slide-in) var(--delay-instructions), opacity var(--timing-instructions-fade-in) var(--delay-instructions);

      .js--ready & {
        opacity: 1;
        transform: translateY(0);
      }
    }
  }

  .portfolio {
    @extend %layout-home-grid;

    .projects {
      grid-column: content-major;
    }

    .more {
      grid-column: content-minor;
    }
  }
}



// HOME GRID
//
// Less intense than the case study grid, but still plenty involved.
// (See that template for a longer writeup. TODO: Move that to the README)

%layout-home-grid {
  align-items: baseline;
  display: grid;
  //outline: 4px solid var(--hue-red-300);
  outline-offset: -5px;
  grid-template-columns:
    []
      var(--a0)
    [content-major-start content-minor-start mat-start title-start]
      auto
    [content-major-end content-minor-end mat-end title-end]
      var(--a0)
    [];

  @include at-least(w0) {
    grid-template-columns:
      []
        calc(var(--width-sidebar-expanded) * 1rem)
      []
        var(--a1)
      [content-major-start content-minor-start mat-start title-start]
        auto
      [content-major-end content-minor-end mat-end title-end]
        var(--a1)
      [];
  }

  @include at-least(w1) {
    grid-template-columns:
      []
        calc(var(--width-sidebar-expanded) * 1rem)
      []
        var(--b1)
      [content-major-start title-start]
        var(--b2) //
      [mat-start]
        2fr
      [content-major-end]
        var(--a1)
      [content-minor-start]
        1fr
      [mat-end title-end]
        var(--b2) //
      [content-minor-end]
        var(--b1)
      [];
  }

  @include at-least(w2) {
    grid-template-columns:
      []
        calc(var(--width-sidebar-expanded) * 1rem)
      []
        var(--b2)
      [content-major-start title-start]
        var(--b3) //
      [mat-start]
        2fr
      [content-major-end]
        var(--b1)
      [content-minor-start]
        1fr
      [mat-end title-end]
        var(--b3) //
      [content-minor-end]
        var(--b2)
      [];
  }

  @include at-least(w3) {
    grid-template-columns:
      []
        calc(var(--width-sidebar-expanded) * 1rem)
      []
        var(--b2)
      [content-major-start title-start]
        var(--a4) //
      [mat-start]
        2fr
      [content-major-end]
        var(--b1)
      [content-minor-start]
        1fr
      [mat-end title-end]
        var(--a3) //
      [content-minor-end]
        var(--a4)
      [];
  }

  @include at-least(w4) {
    grid-template-columns:
      []
        calc(var(--width-sidebar-expanded) * 1rem)
      []
        var(--b3)
      [content-major-start title-start]
        var(--b4) //
      [mat-start]
        2fr
      [content-major-end]
        var(--b1)
      [content-minor-start]
        1fr
      [mat-end title-end]
        var(--b4) //
      [content-minor-end]
        var(--b3)
      [];
  }

  @include at-least(w5) {
    grid-template-columns:
      []
        calc(var(--width-sidebar-expanded) * 1rem)
      []
        minmax(var(--b3),auto)
      [content-major-start title-start]
        var(--b4) //
      [mat-start]
        minmax(auto,var(--b5))
      []
        minmax(auto,var(--b5))
      [content-major-end]
        var(--b1)
      [content-minor-start]
        minmax(auto,var(--b5))
      [mat-end title-end]
        var(--b4) //
      [content-minor-end]
        minmax(var(--b3),auto)
      [];
  }
}
